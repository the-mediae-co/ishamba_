# -*- coding: utf-8 -*-
# Generated by Django 1.9.4 on 2016-07-20 08:49


from django.db import migrations


BROKEN_CUSTOMERS = [352256, 352257, 352258, 352259, 352260, 352261, 352262,
352263, 352264, 352265, 352266, 352267, 352268, 352269, 352270, 352271, 352272,
352273, 352274, 352275, 352276, 352277, 352278, 352279, 352280, 352281, 352282,
352283, 352284, 352285, 352286, 352287, 352288, 352289, 352290, 352291, 352292,
352293, 352294, 352295, 352296, 352297, 352298, 352299, 352300, 352301, 352302,
352303, 352304, 352305, 352306, 352307, 352308, 352309, 352310, 352311, 352312,
352313, 352314, 352315, 352316, 352317, 352318, 352319, 352320, 352321, 352322,
352323, 352324, 352325, 352326, 352327, 352328, 352329, 352330, 352331, 352332,
352333, 352334, 352335, 352336, 352337, 352338, 352339, 352340, 352341, 352342,
352343, 352344, 352345, 352346, 352347, 352348, 352349, 352350, 352351, 352352,
352353, 352354, 352355, 352356, 352357, 352358, 352359, 352360, 352361, 352362,
352363, 352364, 352365, 352366, 352367, 352368, 352369, 352370, 352371, 352372,
352373, 352374, 352375, 352376, 352377, 352378, 352379, 352380, 352381, 352382,
352383, 352384, 352385, 352386, 352387, 352388, 352389, 352390, 352391, 352392,
352393, 352394, 350990, 350991, 350992, 350993, 350994, 350995, 350996, 350997,
350998, 350999, 351000, 351001, 351002, 351003, 351004, 351005, 351006, 351007,
351008, 351009, 351010, 351011, 351012, 351013, 351014, 351015, 351016, 351017,
351018, 351019, 351020, 351021, 351022, 351023, 351024, 351025, 351026, 351027,
351028, 351029, 351030, 351031, 351032, 351033, 351034, 351035, 351036, 351037,
351038, 351039, 351040, 351041, 351042, 351043, 351044, 351045, 351046, 351047,
351048, 351049, 351050, 351051, 351052, 351053, 351054, 351055, 351056, 351057,
351058, 351059, 351060, 351061, 351062, 351063, 351064, 351065, 351066, 351067,
351068, 351069, 351070, 351071, 351072, 351073, 351074, 351075, 351076, 351077,
351078, 351079, 351080, 351081, 351082, 351083, 351084, 351085, 351086, 351087,
351088, 351089, 351090, 351091, 351092, 351093, 351094, 351095, 351096, 351097,
351098, 351099, 351100, 351101, 351102, 351103, 351104, 351105, 351106, 351107,
351108, 351109, 351110, 351111, 351112, 351113, 351114, 351115, 351116, 351117,
351118, 351119, 351120, 351121, 351122, 351123, 351124, 351125, 351126, 351127,
351128, 351129, 351130, 351131, 351132, 351133, 351134, 351135, 351136, 351137,
351138, 351139, 351140, 351141, 351142, 351143, 351144, 351145, 351146, 351147,
351148, 351149, 351150, 351151, 351152, 351153, 351154, 351155, 351156, 351157,
351158, 351159, 351160, 351161, 351162, 351163, 351164, 351165, 351166, 351167,
351168, 351169, 351170, 351171, 351172, 351173, 351174, 351175, 351176, 351177,
351178, 351179, 351180, 351181, 351182, 351183, 351184, 351185, 351186, 351187,
351188, 351189, 351190, 351191, 351192, 351193, 351194, 351195, 351196, 351197,
351198, 351199, 351200, 351201, 351202, 351203, 351204, 351205, 351206, 351207,
351208, 351209, 351210, 351211, 351212, 351213, 351214, 351215, 351216, 351217,
351218, 351219, 351220, 351221, 351222, 351223, 351224, 351225, 351226, 351227,
351228, 351229, 351230, 351231, 351232, 351233, 351234, 351235, 351236, 351237,
351238, 351239, 351240, 351241, 351242, 351243, 351244, 351245, 351246, 351247,
351248, 351249, 351250, 351251, 351252, 351253, 351254, 351255, 351256, 351257,
351258, 351259, 351260, 351261, 351262, 351263, 351264, 351265, 351266, 351267,
351268, 351269, 351270, 351271, 351272, 351273, 351274, 351275, 351276, 351277,
351278, 351279, 351280, 351281, 351282, 351283, 351284, 351285, 351286, 351287,
351288, 351289, 351290, 351291, 351292, 351293, 351294, 351295, 351296, 351297,
351298, 351299, 351300, 351301, 351302, 351303, 351304, 351305, 351306, 351307,
351308, 351309, 351310, 351311, 351312, 351313, 351314, 351315, 351316, 351317,
351318, 351319, 351320, 351321, 351322, 351323, 351324, 351325, 351326, 351327,
351328, 351329, 351330, 351331, 351332, 351333, 351334, 351335, 351336, 351337,
351338, 351339, 351340, 351341, 351342, 351343, 351344, 351345, 351346, 351347,
351348, 351349, 351350, 351351, 351352, 351353, 351354, 351355, 351356, 351357,
351358, 351359, 351360, 351361, 351362, 351363, 351364, 351365, 351366, 351367,
351368, 351369, 351370, 351371, 351372, 351373, 351374, 351375, 351376, 351377,
351378, 351379, 351380, 351381, 351382, 351383, 351384, 351385, 351386, 351387,
351388, 351389, 351390, 351391, 351392, 351393, 351394, 351395, 351396, 351397,
351398, 351399, 351400, 351401, 351402, 351403, 351404, 351405, 351406, 351407,
351408, 351409, 351410, 351411, 351412, 351413, 351414, 351415, 351416, 351417,
351418, 351419, 351420, 351421, 351422, 351423, 351424, 351425, 351426, 351427,
351428, 351429, 351430, 351431, 351432, 351433, 351434, 351435, 351436, 351437,
351438, 351439, 351440, 351441, 351442, 351443, 351444, 351445, 351446, 351447,
351448, 351449, 351450, 351451, 351452, 351453, 351454, 351455, 351456, 351457,
351458, 351459, 351460, 351461, 351462, 351463, 351464, 351465, 351466, 351467,
351468, 351469, 351470, 351471, 351472, 351473, 351474, 351475, 351476, 351477,
351478, 351479, 351480, 351481, 351482, 351483, 351484, 351485, 351486, 351487,
351488, 351489, 351490, 351491, 351492, 351493, 351494, 351495, 351496, 351497,
351498, 351499, 351500, 351501, 351502, 351503, 351504, 351505, 351506, 351507,
351508, 351509, 351510, 351511, 351512, 351513, 351514, 351515, 351516, 351517,
351518, 351519, 351520, 351521, 351522, 351523, 351524, 351525, 351526, 351527,
351528, 351529, 351530, 351531, 351532, 351533, 351534, 351535, 351536, 351537,
351538, 351539, 351540, 351541, 351542, 351543, 351544, 351545, 351546, 351547,
351548, 351549, 351550, 351551, 351552, 351553, 351554, 351555, 351556, 351557,
351558, 351559, 351560, 351561, 351562, 351563, 351564, 351565, 351566, 351567,
351568, 351569, 351570, 351571, 351572, 351573, 351574, 351575, 351576, 351577,
351578, 351579, 351580, 351581, 351582, 351583, 351584, 351585, 351586, 351587,
351588, 351589, 351590, 351591, 351592, 351593, 351594, 351595, 351596, 351597,
351598, 351599, 351600, 351601, 351602, 351603, 351604, 351605, 351606, 351607,
351608, 351609, 351610, 351611, 351612, 351613, 351614, 351615, 351616, 351617,
351618, 351619, 351620, 351621, 351622, 351623, 351624, 351625, 351626, 351627,
351628, 351629, 351630, 351631, 351632, 351633, 351634, 351635, 351636, 351637,
351638, 351639, 351640, 351641, 351642, 351643, 351644, 351645, 351646, 351647,
351648, 351649, 351650, 351651, 351652, 351653, 351654, 351655, 351656, 351657,
351658, 351659, 351660, 351661, 351662, 351663, 351664, 351665, 351666, 351667,
351668, 351669, 351670, 351671, 351672, 351673, 351674, 351675, 351676, 351677,
351678, 351679, 351680, 351681, 351682, 351683, 351684, 351685, 351686, 351687,
351688, 351689, 351690, 351691, 351692, 351693, 351694, 351695, 351696, 351697,
351698, 351699, 351700, 351701, 351702, 351703, 351704, 351705, 351706, 351707,
351708, 351709, 351710, 351711, 351712, 351713, 351714, 351715, 351716, 351717,
351718, 351719, 351720, 351721, 351722, 351723, 351724, 351725, 351726, 351727,
351728, 351729, 351730, 351731, 351732, 351733, 351734, 351735, 351736, 351737,
351738, 351739, 351740, 351741, 351742, 351743, 351744, 351745, 351746, 351747,
351748, 351749, 351750, 351751, 351752, 351753, 351754, 351755, 351756, 351757,
351758, 351759, 351760, 351761, 351763, 351764, 351765, 351766, 351767, 351768,
351769, 351770, 351771, 351772, 351773, 351774, 351775, 351776, 351777, 351778,
351779, 351780, 351781, 351782, 351783, 351784, 351785, 351786, 351787, 351788,
351789, 351790, 351791, 351792, 351793, 351794, 351795, 351796, 351797, 351798,
351799, 351800, 351801, 351802, 351803, 351804, 351805, 351806, 351807, 351808,
351809, 351810, 351811, 351812, 351813, 351814, 351815, 351816, 351817, 351818,
351819, 351820, 351821, 351822, 351823, 351824, 351825, 351826, 351827, 351828,
351829, 351830, 351831, 351832, 351833, 351834, 351835, 351836, 351837, 351838,
351839, 351840, 351841, 351842, 351843, 351844, 351845, 351846, 351847, 351848,
351849, 351850, 351851, 351852, 351853, 351854, 351855, 351856, 351857, 351858,
351859, 351860, 351861, 351862, 351863, 351864, 351865, 351866, 351867, 351868,
351869, 351870, 351871, 351872, 351873, 351874, 351875, 351876, 351877, 351878,
351879, 351880, 351881, 351882, 351883, 351884, 351885, 351886, 351887, 351888,
351889, 351890, 351891, 351892, 351893, 351894, 351895, 351896, 351897, 351898,
351899, 351900, 351901, 351902, 351903, 351904, 351905, 351906, 351907, 351908,
351909, 351910, 351911, 351912, 351913, 351914, 351915, 351916, 351917, 351918,
351919, 351920, 351921, 351922, 351923, 351924, 351925, 351926, 351927, 351928,
351929, 351930, 351931, 351932, 351933, 351934, 351935, 351936, 351937, 351938,
351939, 351940, 351941, 351942, 351943, 351944, 351945, 351946, 351947, 351948,
351949, 351950, 351951, 351952, 351953, 351954, 351955, 351956, 351957, 351958,
351959, 351960, 351961, 351962, 351963, 351964, 351965, 351966, 351967, 351968,
351969, 351970, 351971, 351972, 351973, 351974, 351975, 351976, 351977, 351978,
351979, 351980, 351981, 351982, 351983, 351984, 351985, 351986, 351987, 351988,
351989, 351990, 351991, 351992, 351993, 351994, 351995, 351996, 351997, 351998,
351999, 352000, 352001, 352002, 352003, 352004, 352005, 352006, 352007, 352008,
352009, 352010, 352011, 352012, 352013, 352014, 352015, 352016, 352017, 352018,
352019, 352020, 352021, 352022, 352023, 352024, 352025, 352026, 352027, 352028,
352029, 352030, 352031, 352032, 352033, 352034, 352035, 352036, 352037, 352038,
352039, 352040, 352041, 352042, 352043, 352044, 352045, 352046, 352047, 352048,
352049, 352050, 352051, 352052, 352053, 352054, 352055, 352056, 352057, 352058,
352059, 352060, 352061, 352062, 352063, 352064, 352065, 352066, 352067, 352068,
352069, 352070, 352071, 352072, 352073, 352074, 352075, 352076, 352077, 352078,
352079, 352080, 352081, 352082, 352083, 352084, 352085, 352086, 352087, 352088,
352089, 352090, 352091, 352092, 352093, 352094, 352095, 352096, 352097, 352098,
352099, 352100, 352102, 352103, 352104, 352105, 352106, 352107, 352108, 352109,
352110, 352111, 352112, 352113, 352114, 352115, 352116, 352117, 352118, 352119,
352120, 352121, 352122, 352123, 352124, 352125, 352126, 352127, 352128, 352129,
352130, 352131, 352132, 352133, 352134, 352135, 352136, 352137, 352138, 352139,
352140, 352141, 352142, 352143, 352144, 352145, 352146, 352147, 352148, 352149,
352150, 352151, 352152, 352153, 352154, 352155, 352156, 352157, 352158, 352159,
352160, 352161, 352162, 352163, 352164, 352165, 352166, 352167, 352168, 352169,
352170, 352171, 352172, 352173, 352174, 352175, 352176, 352177, 352178, 352179,
352180, 352181, 352182, 352183, 352184, 352185, 352186, 352187, 352188, 352190,
352191, 352192, 352193, 352194, 352195, 352196, 352197, 352198, 352199, 352200,
352201, 352202, 352203, 352204, 352205, 352206, 352207, 352208, 352209, 352210,
352211, 352212, 352213, 352214, 352215, 352216, 352217, 352218, 352219, 352220,
352221, 352222, 352223, 352224, 352225, 352226, 352227, 352228, 352229, 352230,
352231, 352232, 352233, 352234, 352235, 352236, 352237, 352238, 352239, 352240,
352241, 352242, 352243, 352244, 352245, 352246, 352247, 352248, 352249, 352250,
352251, 352252, 352253, 352254, 352255]


def fix_broken_import(apps, schema_editor):
    Customer = apps.get_model("customers", "Customer")
    Market = apps.get_model("markets", "Market")

    try:
        market_1 = Market.objects.get(pk=25)
        market_1_backup = Market.objects.get(pk=2)
        market_2 = Market.objects.get(pk=27)
        market_2_backup = Market.objects.get(pk=3)
    except Market.DoesNotExist:
        return

    Customer.objects.filter(pk__in=BROKEN_CUSTOMERS).update(
        market_subscription_1=market_1,
        market_subscription_1_backup=market_1_backup,
        market_subscription_2=market_2,
        market_subscription_2_backup=market_2_backup
    )


def unfix_broken_import(apps, schema_editor):
    Customer = apps.get_model("customers", "Customer")
    Market = apps.get_model("markets", "Market")

    try:
        market_1 = None
        market_1_backup = Market.objects.get(pk=24)
        market_2 = Market.objects.get(pk=27)
        market_2_backup = Market.objects.get(pk=2)
    except Market.DoesNotExist:
        return

    Customer.objects.filter(pk__in=BROKEN_CUSTOMERS).update(
        market_subscription_1=market_1,
        market_subscription_1_backup=market_1_backup,
        market_subscription_2=market_2,
        market_subscription_2_backup=market_2_backup
    )


class Migration(migrations.Migration):

    dependencies = [
        ('customers', '0047_auto_20160719_1158'),
    ]

    operations = [
        migrations.RunPython(fix_broken_import, unfix_broken_import),
    ]
